:root{
  --bg:#0b1020;
  --text:#e9eeff;
  --muted:#aab4e6;
  --accent:#7aa2ff;
  --accent2:#6ef3c5;
  --danger:#ff6b6b;
  --border:rgba(255,255,255,.15);

  /* Vanna board sizing */
  --cell: clamp(20px, 5.2vw, 52px);
  --gap: clamp(4px, 1.2vw, 8px);
  --cell-radius: clamp(6px, 1.2vw, 10px);
  --font: clamp(12px, 3.6vw, 24px);
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: radial-gradient(1200px 600px at 20% 0%, #19265a 0%, var(--bg) 55%);
  color:var(--text);
}

.top{text-align:center;padding:20px}
.sub{color:var(--muted); margin:6px 0 0}

.grid{
  max-width:1100px;
  margin:auto;
  padding:16px;
  display:grid;
  gap:16px;
  grid-template-columns:1fr 1fr;
}
.card{
  background:rgba(255,255,255,.05);
  border:1px solid var(--border);
  border-radius:16px;
  padding:16px;
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
}
.card.wide{grid-column:1/-1}

.row{
  display:flex;
  gap:10px;
  margin-top:10px;
  flex-wrap:wrap;
  align-items:center
}
button{
  padding:10px 14px;
  border-radius:12px;
  border:1px solid var(--border);
  background:rgba(122,162,255,.2);
  color:var(--text);
  font-weight:700;
  cursor:pointer;
}
button.secondary{background:rgba(255,255,255,.06)}
button:disabled{opacity:.5; cursor:not-allowed}

input,textarea{
  background:rgba(0,0,0,.25);
  border:1px solid var(--border);
  border-radius:10px;
  padding:10px;
  color:var(--text);
  outline:none;
}

.muted{color:var(--muted)}
.small{font-size:13px}

.boardWrap{position:relative}

/* IMPORTANT: do NOT use a global .hidden selector (Brave/extensions can add it) */
.countdownBadge.hidden{display:none}

/* Centered countdown badge */
.countdownBadge{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  font-size:clamp(22px, 7vw, 40px);
  font-weight:900;
  padding:clamp(10px, 3vw, 20px) clamp(14px, 4vw, 28px);
  background:rgba(0,0,0,.72);
  border-radius:999px;
  border:2px solid var(--border);
  z-index: 10;
}

/* Vanna-style board (fixed grid, responsive cell size) */
.vannaBoard{
  margin-top: 10px;
  padding: 14px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.12);
  background: linear-gradient(180deg, rgba(0,0,0,.18), rgba(0,0,0,.08));

  width: 100%;
  max-width: calc(14 * var(--cell) + 13 * var(--gap) + 28px); /* + padding */
  margin-left: auto;
  margin-right: auto;

  display: grid;
  grid-template-columns: repeat(14, var(--cell));
  gap: var(--gap);
  justify-content: center;
  overflow: hidden;
}

.vCell{
  width: var(--cell);
  height: var(--cell);
  border-radius: var(--cell-radius);
  display:flex;
  align-items:center;
  justify-content:center;
  user-select:none;
  font-weight: 900;
  font-size: var(--font);
  line-height: 1;
  letter-spacing: .5px;
  transform: translateZ(0);
}

.vCell.off{
  background: rgba(0,0,0,.22);
  border: 1px solid rgba(255,255,255,.06);
  color: transparent;
}

.vCell.space{
  background: transparent;
  border: 1px solid transparent;
}

.vCell.tile{
  background: rgba(110,243,197,.08);
  border: 1px solid rgba(110,243,197,.28);
  box-shadow: inset 0 0 0 2px rgba(0,0,0,.18);
  color: rgba(233,238,255,.95);
}

.vCell.hiddenTile{
  color: transparent;
  background: rgba(122,162,255,.10);
  border: 1px solid rgba(122,162,255,.22);
}

@keyframes flipIn {
  0%   { transform: rotateX(88deg); opacity: .2; }
  100% { transform: rotateX(0deg); opacity: 1; }
}
.vCell.revealAnim{
  animation: flipIn 220ms ease-out;
}

/* Players */
.players{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
.player{padding:10px;border:1px solid var(--border);border-radius:12px;background:rgba(0,0,0,.14)}
.player.active{outline:2px solid var(--accent)}
.player b{display:block}
.foot{text-align:center;padding:14px;color:var(--muted)}

.tabs{display:flex;gap:10px}
.tab{padding:10px 14px;border-radius:12px;border:1px solid var(--border);background:rgba(255,255,255,.06);font-weight:800}
.tab.active{outline:2px solid var(--accent)}

.toggle{
  display:flex;
  gap:10px;
  align-items:center;
  padding:10px 12px;
  border:1px solid var(--border);
  border-radius:12px;
  background: rgba(0,0,0,.14);
  margin-right: 10px;
}

.houseRulesDisplay{
  margin-top:10px;
  padding:10px;
  border:1px dashed var(--border);
  border-radius:12px;
  white-space:pre-wrap
}

/* Wheel */
.wheelWrap{position:relative;width:360px;height:360px;margin:8px auto 0}
.pointer{
  position:absolute;top:-6px;left:50%;
  transform:translateX(-50%);
  width:0;height:0;
  border-left:12px solid transparent;
  border-right:12px solid transparent;
  border-bottom:24px solid var(--accent2);
  filter: drop-shadow(0 6px 10px rgba(0,0,0,.35));
}
canvas{border-radius:50%;border:1px solid var(--border);background:rgba(0,0,0,.18)}

@media(max-width:900px){
  .grid{grid-template-columns:1fr}
  .players{grid-template-columns:1fr 1fr}
  .wheelWrap{width:320px;height:320px}
  canvas{width:320px;height:320px}
}
@media(max-width:520px){
  .players{grid-template-columns:1fr}
}
